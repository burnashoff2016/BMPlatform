# Перенос фронтенда на сервер с отключенной аутентификацией

## Подготовка к развертыванию

Все необходимые изменения для отключения аутентификации в приложении уже выполнены:

1. Бэкенд: аутентификация отключена с помощью обновленного скрипта
2. Фронтенд: созданы альтернативные компоненты без проверки аутентификации
3. Проект собран с отключенной аутентификацией

## Структура файлов

1. `backend/` - бэкенд с отключенной аутентификацией
2. `frontend/dist/` - собранная версия фронтенда без аутентификации

## Перенос на сервер

Для переноса собранного приложения на сервер выполните следующие шаги:

1. Скопируйте содержимое директории `frontend/dist/` на ваш сервер в директорию, откуда планируете раздавать статический контент

2. Убедитесь, что бэкенд запущен с отключенной аутентификацией:
   ```bash
   cd backend
   python -m uvicorn main:app --host 0.0.0.0 --port 8000
   ```

3. Установите переменную окружения на вашем сервере:
   ```
   VITE_API_BASE_URL=http://89.23.97.230/api
   ```

## Восстановление аутентификации

Если понадобится вернуть обратно систему аутентификации:

1. Восстановите оригинальные файлы фронтенда:
   ```bash
   cd ..
   python build_dist_no_auth.py restore
   ```

2. Восстановите оригинальную аутентификацию:
   ```bash
   python restore_auth.py
   ```

3. Пересоберите проект с аутентификацией:
   ```bash
   cd frontend
   npm run build
   ```

## Особенности

- В режиме без аутентификации пользователь всегда представлен как "anonymous"
- Все страницы и маршруты доступны без логина
- Данные, создаваемые в системе, будут ассоциированы с анонимным пользователем
- Для корректной работы всех функций убедитесь, что бэкенд запущен с отключенной аутентификацией
- Исправлены все ошибки, включая "useAuth must be used within AuthProvider"
- Исправлена синтаксическая ошибка в backend/main.py